{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/johnson/Documents/Kainuo%20Tech/Sales/Yorsson/Payment%20Gateway/app/api/checkout_sessions/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport Stripe from 'stripe';\n\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY!, {\n  // apiVersion: '2023-10-16', // Optional: specify API version\n});\n\nexport async function POST(request: Request) {\n  try {\n    // Determine the base URL for success/cancel redirects\n    const origin = request.headers.get('origin') || 'http://localhost:3000';\n\n    const session = await stripe.checkout.sessions.create({\n      line_items: [\n        {\n          // Provide the exact Price ID (for example, pr_1234) of the product you want to sell\n          // or create a one-time price on the fly using price_data.\n          price_data: {\n            currency: 'usd',\n            product_data: {\n              name: 'Premium Plan Service',\n              images: ['https://i.imgur.com/EHyR2nP.png'], // Optional image\n            },\n            unit_amount: 10000, // $100.00 in cents\n          },\n          quantity: 1,\n        },\n      ],\n      mode: 'payment',\n      success_url: `${origin}/success`,\n      cancel_url: `${origin}/`,\n    });\n\n    return NextResponse.json({ sessionId: session.id, url: session.url });\n  } catch (err: any) {\n    console.error('Error creating checkout session:', err);\n    return NextResponse.json(\n      { error: err.message },\n      { status: err.statusCode || 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,SAAS,IAAI,mKAAM,CAAC,QAAQ,GAAG,CAAC,iBAAiB,EAAG;AAE1D;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,sDAAsD;QACtD,MAAM,SAAS,QAAQ,OAAO,CAAC,GAAG,CAAC,aAAa;QAEhD,MAAM,UAAU,MAAM,OAAO,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;YACpD,YAAY;gBACV;oBACE,oFAAoF;oBACpF,0DAA0D;oBAC1D,YAAY;wBACV,UAAU;wBACV,cAAc;4BACZ,MAAM;4BACN,QAAQ;gCAAC;6BAAkC;wBAC7C;wBACA,aAAa;oBACf;oBACA,UAAU;gBACZ;aACD;YACD,MAAM;YACN,aAAa,GAAG,OAAO,QAAQ,CAAC;YAChC,YAAY,GAAG,OAAO,CAAC,CAAC;QAC1B;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,WAAW,QAAQ,EAAE;YAAE,KAAK,QAAQ,GAAG;QAAC;IACrE,EAAE,OAAO,KAAU;QACjB,QAAQ,KAAK,CAAC,oCAAoC;QAClD,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO,IAAI,OAAO;QAAC,GACrB;YAAE,QAAQ,IAAI,UAAU,IAAI;QAAI;IAEpC;AACF"}}]
}